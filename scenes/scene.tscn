[gd_scene load_steps=13 format=3 uid="uid://dhjcp37hd5oe8"]

[ext_resource type="Script" uid="uid://dl2s8xos1jjei" path="res://scripts/scene.gd" id="1_5fb3c"]
[ext_resource type="PackedScene" uid="uid://clnf7jp81ft7r" path="res://scenes/player.tscn" id="2_5fb3c"]
[ext_resource type="Texture2D" uid="uid://dicfkr133bci6" path="res://images/starmap_8k.jpg" id="2_gjmho"]
[ext_resource type="PackedScene" uid="uid://b0tvwu4ae7ied" path="res://scenes/meteor.tscn" id="2_t7and"]
[ext_resource type="PackedScene" uid="uid://b0l4ionlnoo6u" path="res://scenes/debris.tscn" id="3_gjmho"]
[ext_resource type="Shader" uid="uid://dmvqdgjqe7cvh" path="res://scripts/scene.gdshader" id="6_t7and"]
[ext_resource type="Script" uid="uid://ckgnn470b3s3i" path="res://scripts/radar_dots.gd" id="7_ruw3y"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_t7and"]
panorama = ExtResource("2_gjmho")

[sub_resource type="Sky" id="Sky_ruw3y"]
sky_material = SubResource("PanoramaSkyMaterial_t7and")

[sub_resource type="Environment" id="Environment_7182s"]
background_mode = 2
sky = SubResource("Sky_ruw3y")
sdfgi_enabled = true
sdfgi_energy = 20.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ruw3y"]
shader = ExtResource("6_t7and")

[sub_resource type="CanvasTexture" id="CanvasTexture_t7and"]

[node name="Stage" type="Node3D"]
script = ExtResource("1_5fb3c")
meteor_scene = ExtResource("2_t7and")
debris_scene = ExtResource("3_gjmho")
spawn_meteor_count = null
spawn_area_size = null
spawn_debris_count = null

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.22772333, 0.93764406, 0.2626131, -0.5350585, -0.34582892, 0.7707885, 0.8135447, 0.03501329, 0.5804477, 4.1358657, 3.6349897, 0.25271344)
shadow_enabled = true
shadow_opacity = 0.2

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_7182s")

[node name="Player" parent="." instance=ExtResource("2_5fb3c")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5522566, 0)

[node name="CanvasLayer" type="CanvasLayer" parent="."]
offset = Vector2(20, 20)
transform = Transform2D(1, 0, 0, 1, 20, 20)

[node name="Control" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/Control"]
material = SubResource("ShaderMaterial_ruw3y")
layout_mode = 0
offset_right = 200.0
offset_bottom = 200.0
texture = SubResource("CanvasTexture_t7and")
stretch_mode = 4

[node name="RadarDots" type="Node2D" parent="CanvasLayer/Control" node_paths=PackedStringArray("player")]
script = ExtResource("7_ruw3y")
player = NodePath("../../../Player")

[node name="Label" type="Label" parent="CanvasLayer"]
offset_right = 40.0
offset_bottom = 23.0
theme_override_font_sizes/font_size = 20
text = "Debris : 0"
