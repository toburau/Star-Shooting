# Star-Shooting

## 今回のテーマ：自分視点シューティング

### 100日チャレンジ32日目
Godotで3Dにチャレンジ  
キューブとプレーンを配置して、ライトとカメラを設定してみた  

### 100日チャレンジ33日目
アセットはKenney.nl の Space Kit を利用  
https://kenney.nl/assets/space-kit  
モデルの表示とカーソルキーでの移動。コリジョンの設定などを試しに実装してみた  

### 100日チャレンジ34日目
自分視点で動けるようにしてみた  
Playerシーンを作成して、Camera3Dを追加  
WSADで移動、マウスでカメラ向き変更  
スクリプトはChatGPTが作ったものをほぼそのまま利用  

### 100日チャレンジ35日目
コントローラーの左スティックで移動、右スティックでカメラ操作  
ChatGPTにコードを出してもらったがうまくいかない  

### 100日チャレンジ36日目
コントローラーの右スティックでカメラ回転  
左右の回転はオブジェクトの回転を相対で  
上下の回転はピボットを追加して、絶対値で設定  
別ノードで分離して処理することにより、ロール回転を防ぐ  

### 100日チャレンジ37日目
コントローラーの左スティックで移動  
離したときでも思ったよりも値が入っていた  

### 100日チャレンジ38日目
L1ボタンで上昇、R1ボタンで下降できるようにした  
サブノーティカの操作方法を参考に  
ワールドの上下ではなく、見た目の上下にした  

### 100日チャレンジ39日目
移動と回転に慣性をつけた  

### 100日チャレンジ40日目
背景を宇宙空間のテクスチャにした  
素材は https://cgbeginner.net/space-stars-footage/ の実写の宇宙背景素材の天球座標系の画像を利用させてもらった  

### 100日チャレンジ41日目
アセットのモデルをBlenderで見てみたら中心座標がずれていたので、調整することに  

### 100日チャレンジ42日目
小惑星をランダムで配置するように  

### 100日チャレンジ43日目
小惑星をモデルだけからシーンに変更  
スクリプトを追加して、ランダムで回転と移動するようにした  

### 100日チャレンジ44日目
ダメージ表現でカメラの揺れを追加  

### 100日チャレンジ45日目
小惑星との衝突判定追加  
ぶつかったら反発するように逆方向の速度を設定  

### 100日チャレンジ46日目
デブリのモデルをBlenderで作成  
https://kenney.nl/assets/space-station-kit のパーツを組み合わせて作成  
Godotにインポートしたらカラーが出なくなってしまった  

### 100日チャレンジ47日目
カラーが出ていなかったわけではなく、元のモデルにカラーが無いものがあり、カラーが出ていた部分は隠れていて見えていなかったので、勘違いだった  
改めてデブリのモデルを作り直してGodot上で配置した  

### 100日チャレンジ48日目
デブリにコリジョンを追加したが、なかなか反映されなくて苦労した  
利用するステージへPackedSceneとしての登録の仕方が正しくなかったらしい  

### 100日チャレンジ49日目
デブリとぶつかったら、デブリを消すように  
爆発などの演出を出したいところだが後回し  

### 100日チャレンジ50日目
デブリを回収するためのアームのモデルを作成  

### 100日チャレンジ51日目
アームの開閉アニメーションを作成

### 100日チャレンジ52日目
BlenderからGodotでglb形式でインポート。しかしアニメーションの再生方法が分からず

### 100日チャレンジ53日目
Blender側でアニメーション作成。付けたアニメーション名がGodotで見えないので苦戦中

### 100日チャレンジ54日目
Blender側でアニメーションを付けなおして、Godot側で再生できるようになった

### 100日チャレンジ55日目
アームをプレイヤーの子供として配置

### 100日チャレンジ56日目
アームの動きを実装

### 100日チャレンジ57日目
アームの動きをアーム側のスクリプトで行うように

### 100日チャレンジ58日目
アームを伸ばして縮める動きを実装

### 100日チャレンジ59日目
アニメーション速度の変更

### 100日チャレンジ60日目
アームの位置がプレイヤーについてこない事が判明

### 100日チャレンジ61日目
カメラの向きについてこないことが判明。カメラの子供にアームを配置して対応
Pos 0.0, -0.4, -0.5
Rot -70.0, 0.0, 0.0
Scl 0.3, 0.3, 0.3

### 100日チャレンジ62日目
アームにコリジョンを追加。しかし、親の移動に付いてこない。

### 100日チャレンジ63日目
アームをCharacterBody3Dに変更。コリジョンが付いてくるようになったが、プレイヤーとの接触判定が行われなくなってしまった。

### 100日チャレンジ64日目
プレイヤーのArea3Dのコリジョンのフィルターが正しくなかったのを修正

### 100日チャレンジ65日目
プレイヤーの移動が意図しないものになっていたのを修正しようとしているがうまくいかない

### 100日チャレンジ66日目
他にも試してみたが、うまく行かないので、今回は諦めることにした。

### 100日チャレンジ67日目
アームを伸ばしたときに思ったよりも短くて小惑星やデブリに届かなかったので、アームのモデルの長さを伸ばした

### 100日チャレンジ68日目
アームの動きを調整

### 100日チャレンジ69日目
アームのコリジョンのレイヤーとマスクを設定

### 100日チャレンジ70日目
アームの接触判定をプレイヤーで受け取るように

### 100日チャレンジ71日目
小惑星をアームで突き飛ばすように

### 100日チャレンジ72日目
デブリをアームで引き寄せて回収するように

### 100日チャレンジ73日目
デブリにアームが当たったときに少し揺らすように

### 100日チャレンジ74日目
2Dマップの作成開始。CanvasLayerを追加してTextureRectでシェーダーマテリアルで丸く切り取った描画に

### 100日チャレンジ75日目
TxtureRectのTextureにCanvasTextureを設定。これで丸く切り取った絵が出た。色はシェーダーで灰色で半透明にしてみた

### 100日チャレンジ76日目
レーダーでデブリの場所をドットで表示

### 100日チャレンジ77日目
プレイヤーの回転にあわせて、レーダーの表示も回転

### 100日チャレンジ78日目
レーダーの回転方向が間違っていたのを修正。レーダーの表示範囲を広げた

### 100日チャレンジ79日目
デブリの残り数を表示

### 100日チャレンジ80日目
影の部分が真っ暗になってしまうので、明るさを調整
SDFGI の Energy を上げて調整してみた

### 100日チャレンジ81日目
小惑星とぶつかったときの音を付けてみた

### 100日チャレンジ82日目
アームの動きの音付け

### 100日チャレンジ83日目
アームが小惑星やデブリにぶつかったときの音とアームが閉じるときの音を変更

